// Wait for the DOM to be fully loaded
document.addEventListener("DOMContentLoaded", () => {
  // Elements
  const header = document.querySelector("header")
  const menuToggle = document.querySelector(".menu-toggle")
  const nav = document.querySelector("nav")
  const languageSelector = document.querySelector(".language-selector")
  const selectedLanguage = document.querySelector(".selected-language")
  const featureCards = document.querySelectorAll(".feature-card")
  const testimonials = document.querySelectorAll(".testimonial")
  const prevBtn = document.querySelector(".prev-btn")
  const nextBtn = document.querySelector(".next-btn")
  const dots = document.querySelectorAll(".dot")
  const chatbotToggle = document.querySelector(".chatbot-toggle")
  const chatbotContainer = document.querySelector(".chatbot-container")
  const closeChat = document.querySelector(".close-chat")
  const chatInput = document.querySelector(".chatbot-input input")
  const chatSendBtn = document.querySelector(".chatbot-input button")
  const chatMessages = document.querySelector(".chatbot-messages")

  // Current testimonial index
  let currentTestimonial = 0

  // Language data for multilingual support
  const languageData = {
    en: {
      nav: ["Home", "Loan Types", "Eligibility Checker", "Chatbot", "About Us", "Contact"],
      hero: {
        title: "Your Smart Partner for Easy Loan Decisions",
        subtitle: "Get personalized loan recommendations and check your eligibility in minutes",
        cta: "Check Loan Eligibility",
      },
      features: {
        title: "Our Features",
        items: [
          {
            title: "AI-Powered Chatbot",
            description: "Get instant answers to your loan queries with our intelligent chatbot assistant",
          },
          {
            title: "Loan Comparison",
            description: "Compare different loan options side by side to find the best rates and terms",
          },
          {
            title: "Multilingual Support",
            description: "Access our services in multiple languages including English, Hindi, Tamil, and Telugu",
          },
          {
            title: "Secure Document Handling",
            description: "Your documents are encrypted and securely stored with bank-level security",
          },
        ],
      },
      testimonials: {
        title: "What Our Clients Say",
      },
      chatbot: {
        toggle: "Chat with us",
        header: "Nidhisaki Assistant",
        welcome: "ЁЯСЛ Hello! I'm your Nidhisaki loan assistant. How can I help you today?",
        placeholder: "Type your message here...",
      },
      footer: {
        about: {
          title: "About Nidhisaki",
          description:
            "Nidhisaki is your trusted partner for all loan-related decisions, providing personalized recommendations and eligibility checks.",
        },
        links: {
          title: "Quick Links",
        },
        contact: {
          title: "Contact Us",
          address: "123 Finance Street, Mumbai, India",
          phone: "+91 9876543210",
          email: "info@nidhisaki.com",
        },
        copyright: "┬й 2023 Nidhisaki. All rights reserved.",
      },
    },
    hi: {
      nav: ["рд╣реЛрдо", "рд▓реЛрди рдкреНрд░рдХрд╛рд░", "рдкрд╛рддреНрд░рддрд╛ рдЬрд╛рдВрдЪрдХ", "рдЪреИрдЯрдмреЙрдЯ", "рд╣рдорд╛рд░реЗ рдмрд╛рд░реЗ рдореЗрдВ", "рд╕рдВрдкрд░реНрдХ"],
      hero: {
        title: "рдЖрд╕рд╛рди рд▓реЛрди рдирд┐рд░реНрдгрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдЖрдкрдХрд╛ рд╕реНрдорд╛рд░реНрдЯ рдкрд╛рд░реНрдЯрдирд░",
        subtitle: "рд╡реНрдпрдХреНрддрд┐рдЧрдд рд▓реЛрди рд╕рд┐рдлрд╛рд░рд┐рд╢реЗрдВ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ рдФрд░ рдорд┐рдирдЯреЛрдВ рдореЗрдВ рдЕрдкрдиреА рдкрд╛рддреНрд░рддрд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ",
        cta: "рд▓реЛрди рдкрд╛рддреНрд░рддрд╛ рдЬрд╛рдВрдЪреЗрдВ",
      },
      features: {
        title: "рд╣рдорд╛рд░реА рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ",
        items: [
          {
            title: "AI-рд╕рдВрдЪрд╛рд▓рд┐рдд рдЪреИрдЯрдмреЙрдЯ",
            description: "рд╣рдорд╛рд░реЗ рдмреБрджреНрдзрд┐рдорд╛рди рдЪреИрдЯрдмреЙрдЯ рд╕рд╣рд╛рдпрдХ рдХреЗ рд╕рд╛рде рдЕрдкрдиреЗ рд▓реЛрди рдкреНрд░рд╢реНрдиреЛрдВ рдХреЗ рддреБрд░рдВрдд рдЙрддреНрддрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ",
          },
          {
            title: "рд▓реЛрди рддреБрд▓рдирд╛",
            description: "рд╕рд░реНрд╡реЛрддреНрддрдо рджрд░реЛрдВ рдФрд░ рд╢рд░реНрддреЛрдВ рдХреЛ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рднрд┐рдиреНрди рд▓реЛрди рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреА рддреБрд▓рдирд╛ рдХрд░реЗрдВ",
          },
          {
            title: "рдмрд╣реБрднрд╛рд╖реА рд╕рдорд░реНрдерди",
            description: "рдЕрдВрдЧреНрд░реЗрдЬреА, рд╣рд┐рдВрджреА, рддрдорд┐рд▓ рдФрд░ рддреЗрд▓реБрдЧреБ рд╕рд╣рд┐рдд рдХрдИ рднрд╛рд╖рд╛рдУрдВ рдореЗрдВ рд╣рдорд╛рд░реА рд╕реЗрд╡рд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ",
          },
          {
            title: "рд╕реБрд░рдХреНрд╖рд┐рдд рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рд╣реИрдВрдбрд▓рд┐рдВрдЧ",
            description: "рдЖрдкрдХреЗ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд╣реИрдВ рдФрд░ рдмреИрдВрдХ-рд╕реНрддрд░реАрдп рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рд╕рд╛рде рд╕реБрд░рдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реИрдВ",
          },
        ],
      },
      testimonials: {
        title: "рд╣рдорд╛рд░реЗ рдЧреНрд░рд╛рд╣рдХ рдХреНрдпрд╛ рдХрд╣рддреЗ рд╣реИрдВ",
      },
      chatbot: {
        toggle: "рд╣рдорд╕реЗ рдЪреИрдЯ рдХрд░реЗрдВ",
        header: "рдирд┐рдзрд┐рд╕рд╛рдХреА рд╕рд╣рд╛рдпрдХ",
        welcome: "ЁЯСЛ рдирдорд╕реНрддреЗ! рдореИрдВ рдЖрдкрдХрд╛ рдирд┐рдзрд┐рд╕рд╛рдХреА рд▓реЛрди рд╕рд╣рд╛рдпрдХ рд╣реВрдВред рдЖрдЬ рдореИрдВ рдЖрдкрдХреА рдХреИрд╕реЗ рдорджрдж рдХрд░ рд╕рдХрддрд╛ рд╣реВрдВ?",
        placeholder: "рдЕрдкрдирд╛ рд╕рдВрджреЗрд╢ рдпрд╣рд╛рдВ рдЯрд╛рдЗрдк рдХрд░реЗрдВ...",
      },
      footer: {
        about: {
          title: "рдирд┐рдзрд┐рд╕рд╛рдХреА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ",
          description:
            "рдирд┐рдзрд┐рд╕рд╛рдХреА рд╕рднреА рд▓реЛрди-рд╕рдВрдмрдВрдзрд┐рдд рдирд┐рд░реНрдгрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдЖрдкрдХрд╛ рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рд╕рд╛рдереА рд╣реИ, рдЬреЛ рд╡реНрдпрдХреНрддрд┐рдЧрдд рд╕рд┐рдлрд╛рд░рд┐рд╢реЗрдВ рдФрд░ рдкрд╛рддреНрд░рддрд╛ рдЬрд╛рдВрдЪ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред",
        },
        links: {
          title: "рддреНрд╡рд░рд┐рдд рд▓рд┐рдВрдХ",
        },
        contact: {
          title: "рд╕рдВрдкрд░реНрдХ рдХрд░реЗрдВ",
          address: "123 рдлрд╛рдЗрдиреЗрдВрд╕ рд╕реНрдЯреНрд░реАрдЯ, рдореБрдВрдмрдИ, рднрд╛рд░рдд",
          phone: "+91 9876543210",
          email: "info@nidhisaki.com",
        },
        copyright: "┬й 2023 рдирд┐рдзрд┐рд╕рд╛рдХреА. рд╕рд░реНрд╡рд╛рдзрд┐рдХрд╛рд░ рд╕реБрд░рдХреНрд╖рд┐рддред",
      },
    },
    ta: {
      nav: ["роорпБроХрокрпНрокрпБ", "роХроЯройрпН ро╡роХрпИроХро│рпН", "родроХрпБродро┐ роЪро░ро┐рокро╛ро░рпНрокрпНрокрпБ", "роЪро╛роЯрпНрокрпЛроЯрпН", "роОроЩрпНроХро│рпИрокрпН рокро▒рпНро▒ро┐", "родрпКроЯро░рпНрокрпБ"],
      hero: {
        title: "роОро│ро┐родро╛рой роХроЯройрпН роорпБроЯро┐ро╡рпБроХро│рпБроХрпНроХро╛рой роЙроЩрпНроХро│рпН ро╕рпНрооро╛ро░рпНроЯрпН рокроЩрпНроХро╛ро│ро░рпН",
        subtitle: "родройро┐рокрпНрокропройро╛роХрпНроХрокрпНрокроЯрпНроЯ роХроЯройрпН рокро░ро┐роирпНродрпБро░рпИроХро│рпИрокрпН рокрпЖро▒рпБроЩрпНроХро│рпН рооро▒рпНро▒рпБроорпН роиро┐рооро┐роЯроЩрпНроХро│ро┐ро▓рпН роЙроЩрпНроХро│рпН родроХрпБродро┐ропрпИ роЪро░ро┐рокро╛ро░рпНроХрпНроХро╡рпБроорпН",
        cta: "роХроЯройрпН родроХрпБродро┐ропрпИ роЪро░ро┐рокро╛ро░рпНроХрпНроХро╡рпБроорпН",
      },
      features: {
        title: "роОроЩрпНроХро│рпН роЕроорпНроЪроЩрпНроХро│рпН",
        items: [
          {
            title: "AI-роЗропроХрпНроХрокрпНрокроЯрпБроорпН роЪро╛роЯрпНрокрпЛроЯрпН",
            description: "роОроЩрпНроХро│рпН рокрпБродрпНродро┐роЪро╛ро▓ро┐родрпНродройрооро╛рой роЪро╛роЯрпНрокрпЛроЯрпН роЙродро╡ро┐ропро╛ро│ро░рпБроЯройрпН роЙроЩрпНроХро│рпН роХроЯройрпН роХрпЗро│рпНро╡ро┐роХро│рпБроХрпНроХрпБ роЙроЯройроЯро┐ рокродро┐ро▓рпНроХро│рпИрокрпН рокрпЖро▒рпБроЩрпНроХро│рпН",
          },
          {
            title: "роХроЯройрпН роТрокрпНрокрпАроЯрпБ",
            description: "роЪро┐ро▒роирпНрод ро╡ро┐роХро┐родроЩрпНроХро│рпН рооро▒рпНро▒рпБроорпН ро╡ро┐родро┐роорпБро▒рпИроХро│рпИроХрпН роХрогрпНроЯро▒ро┐роп рокроХрпНроХродрпНродро┐ро▓рпН рокро▓рпНро╡рпЗро▒рпБ роХроЯройрпН ро╡ро┐ро░рпБрокрпНрокроЩрпНроХро│рпИ роТрокрпНрокро┐роЯрпБроЩрпНроХро│рпН",
          },
          {
            title: "рокро▓ роорпКро┤ро┐ роЖродро░ро╡рпБ",
            description: "роЖроЩрпНроХро┐ро▓роорпН, роЗроирпНродро┐, родрооро┐ро┤рпН рооро▒рпНро▒рпБроорпН родрпЖро▓рпБроЩрпНроХрпБ роЙро│рпНро│ро┐роЯрпНроЯ рокро▓ роорпКро┤ро┐роХро│ро┐ро▓рпН роОроЩрпНроХро│рпН роЪрпЗро╡рпИроХро│рпИ роЕрогрпБроХро╡рпБроорпН",
          },
          {
            title: "рокро╛родрпБроХро╛рокрпНрокро╛рой роЖро╡рог роХрпИропро╛ро│рпБродро▓рпН",
            description: "роЙроЩрпНроХро│рпН роЖро╡рогроЩрпНроХро│рпН роХрпБро▒ро┐ропро╛роХрпНроХрокрпНрокроЯрпНроЯрпБ ро╡роЩрпНроХро┐-роиро┐ро▓рпИ рокро╛родрпБроХро╛рокрпНрокрпБроЯройрпН рокро╛родрпБроХро╛рокрпНрокро╛роХ роЪрпЗрооро┐роХрпНроХрокрпНрокроЯрпБроХро┐ройрпНро▒рой",
          },
        ],
      },
      testimonials: {
        title: "роОроЩрпНроХро│рпН ро╡ро╛роЯро┐роХрпНроХрпИропро╛ро│ро░рпНроХро│рпН роОройрпНрой роЪрпКро▓рпНроХро┐ро▒ро╛ро░рпНроХро│рпН",
      },
      chatbot: {
        toggle: "роОроЩрпНроХро│рпБроЯройрпН роЕро░роЯрпНроЯрпИ",
        header: "роиро┐родро┐роЪро╛роХро┐ роЙродро╡ро┐ропро╛ро│ро░рпН",
        welcome: "ЁЯСЛ ро╡рогроХрпНроХроорпН! роиро╛ройрпН роЙроЩрпНроХро│рпН роиро┐родро┐роЪро╛роХро┐ роХроЯройрпН роЙродро╡ро┐ропро╛ро│ро░рпН. роЗройрпНро▒рпБ роиро╛ройрпН роЙроЩрпНроХро│рпБроХрпНроХрпБ роОрокрпНрокроЯро┐ роЙродро╡ роорпБроЯро┐ропрпБроорпН?",
        placeholder: "роЙроЩрпНроХро│рпН роЪрпЖропрпНродро┐ропрпИ роЗроЩрпНроХрпЗ родроЯрпНроЯроЪрпНроЪрпБ роЪрпЖропрпНропро╡рпБроорпН...",
      },
      footer: {
        about: {
          title: "роиро┐родро┐роЪро╛роХро┐ рокро▒рпНро▒ро┐",
          description:
            "роиро┐родро┐роЪро╛роХро┐ роЕройрпИродрпНродрпБ роХроЯройрпН родрпКроЯро░рпНрокро╛рой роорпБроЯро┐ро╡рпБроХро│рпБроХрпНроХрпБроорпН роЙроЩрпНроХро│рпН роироорпНрокроХрооро╛рой рокроЩрпНроХро╛ро│ро░рпН, родройро┐рокрпНрокропройро╛роХрпНроХрокрпНрокроЯрпНроЯ рокро░ро┐роирпНродрпБро░рпИроХро│рпН рооро▒рпНро▒рпБроорпН родроХрпБродро┐ роЪро░ро┐рокро╛ро░рпНрокрпНрокрпБроХро│рпИ ро╡ро┤роЩрпНроХрпБроХро┐ро▒родрпБ.",
        },
        links: {
          title: "ро╡ро┐ро░рпИро╡рпБ роЗрогрпИрокрпНрокрпБроХро│рпН",
        },
        contact: {
          title: "родрпКроЯро░рпНрокрпБ роХрпКро│рпНро│ро╡рпБроорпН",
          address: "123 роГрокрпИройро╛ройрпНро╕рпН родрпЖро░рпБ, роорпБроорпНрокрпИ, роЗроирпНродро┐ропро╛",
          phone: "+91 9876543210",
          email: "info@nidhisaki.com",
        },
        copyright: "┬й 2023 роиро┐родро┐роЪро╛роХро┐. роЕройрпИродрпНродрпБ роЙро░ро┐роорпИроХро│рпБроорпН рокро╛родрпБроХро╛роХрпНроХрокрпНрокроЯрпНроЯро╡рпИ.",
      },
    },
    te: {
      nav: ["р░╣р▒Лр░ор▒Н", "р░░р▒Бр░г р░░р░Хр░╛р░▓р▒Б", "р░Ер░░р▒Нр░╣р░д р░др░ир░┐р░Цр▒А", "р░Ър░╛р░Яр▒НтАМр░мр░╛р░Яр▒Н", "р░ор░╛ р░Чр▒Бр░░р░┐р░Вр░Ър░┐", "р░╕р░Вр░кр▒Нр░░р░жр░┐р░Вр░Ър░Вр░бр░┐"],
      hero: {
        title: "р░╕р▒Бр░▓р░нр░ор▒Ир░и р░░р▒Бр░г р░ир░┐р░░р▒Нр░гр░пр░╛р░▓р░Хр▒Б р░ор▒А р░╕р▒Нр░ор░╛р░░р▒Нр░Яр▒Н р░нр░╛р░Чр░╕р▒Нр░╡р░╛р░ор░┐",
        subtitle: "р░╡р▒Нр░пр░Хр▒Нр░др░┐р░Чр░др▒Ар░Хр░░р░┐р░Вр░Ър░┐р░и р░░р▒Бр░г р░╕р░┐р░лр░╛р░░р▒Нр░╕р▒Бр░▓р░ир▒Б р░кр▒Кр░Вр░жр░Вр░бр░┐ р░ор░░р░┐р░пр▒Б р░ир░┐р░ор░┐р░╖р░╛р░▓р▒Нр░▓р▒Л р░ор▒А р░Ер░░р▒Нр░╣р░др░ир▒Б р░др░ир░┐р░Цр▒А р░Ър▒Зр░пр░Вр░бр░┐",
        cta: "р░░р▒Бр░г р░Ер░░р▒Нр░╣р░др░ир▒Б р░др░ир░┐р░Цр▒А р░Ър▒Зр░пр░Вр░бр░┐",
      },
      features: {
        title: "р░ор░╛ р░лр▒Ар░Ър░░р▒Нр░▓р▒Б",
        items: [
          {
            title: "AI-р░Жр░зр░╛р░░р░┐р░д р░Ър░╛р░Яр▒НтАМр░мр░╛р░Яр▒Н",
            description: "р░ор░╛ р░др▒Жр░▓р░┐р░╡р▒Ир░и р░Ър░╛р░Яр▒НтАМр░мр░╛р░Яр▒Н р░╕р░╣р░╛р░пр░Хр▒Бр░бр░┐р░др▒Л р░ор▒А р░░р▒Бр░г р░кр▒Нр░░р░╢р▒Нр░ир░▓р░Хр▒Б р░др░Хр▒Нр░╖р░г р░╕р░ор░╛р░зр░╛р░ир░╛р░▓р▒Б р░кр▒Кр░Вр░жр░Вр░бр░┐",
          },
          {
            title: "р░░р▒Бр░г р░кр▒Лр░▓р░┐р░Х",
            description: "р░Йр░др▒Нр░др░о р░░р▒Зр░Яр▒Нр░▓р▒Б р░ор░░р░┐р░пр▒Б р░ир░┐р░мр░Вр░зр░ир░▓р░ир▒Б р░Хр░ир▒Бр░Чр▒Кр░ир░бр░╛р░ир░┐р░Хр░┐ р░╡р░┐р░╡р░┐р░з р░░р▒Бр░г р░Ор░Вр░кр░┐р░Хр░▓р░ир▒Б р░кр░Хр▒Нр░Хр░кр░Хр▒Нр░Хр░и р░кр▒Лр░▓р▒Нр░Ър░Вр░бр░┐",
          },
          {
            title: "р░мр░╣р▒Бр░нр░╛р░╖р░╛ р░ор░жр▒Нр░жр░др▒Б",
            description: "р░Зр░Вр░Чр▒Нр░▓р▒Ар░╖р▒Н, р░╣р░┐р░Вр░жр▒А, р░др░ор░┐р░│р░В р░ор░░р░┐р░пр▒Б р░др▒Жр░▓р▒Бр░Чр▒Б р░╕р░╣р░╛ р░Ер░ир▒Зр░Х р░нр░╛р░╖р░▓р░▓р▒Л р░ор░╛ р░╕р▒Зр░╡р░▓р░ир▒Б р░пр░╛р░Хр▒Нр░╕р▒Жр░╕р▒Н р░Ър▒Зр░пр░Вр░бр░┐",
          },
          {
            title: "р░╕р▒Бр░░р░Хр▒Нр░╖р░┐р░д р░кр░др▒Нр░░ р░ир░┐р░░р▒Нр░╡р░╣р░г",
            description: "р░ор▒А р░кр░др▒Нр░░р░╛р░▓р▒Б р░Ор░ир▒НтАМр░Хр▒Нр░░р░┐р░кр▒Нр░Яр▒Н р░Ър▒Зр░пр░мр░бр░┐ р░мр▒Нр░пр░╛р░Вр░Хр▒Б-р░╕р▒Нр░ер░╛р░пр░┐ р░нр░жр▒Нр░░р░др░др▒Л р░╕р▒Бр░░р░Хр▒Нр░╖р░┐р░др░Вр░Чр░╛ р░ир░┐р░▓р▒Нр░╡ р░Ър▒Зр░пр░мр░бр░др░╛р░пр░┐",
          },
        ],
      },
      testimonials: {
        title: "р░ор░╛ р░Хр▒Нр░▓р░пр░┐р░Вр░Яр▒Нр░▓р▒Б р░Пр░ор░┐ р░Ър▒Жр░мр▒Бр░др▒Бр░ир▒Нр░ир░╛р░░р▒Б",
      },
      chatbot: {
        toggle: "р░ор░╛р░др▒Л р░Ър░╛р░Яр▒Н р░Ър▒Зр░пр░Вр░бр░┐",
        header: "р░ир░┐р░зр░┐р░╕р░╛р░Хр░┐ р░╕р░╣р░╛р░пр░Хр▒Бр░бр▒Б",
        welcome: "ЁЯСЛ р░╣р░▓р▒Л! р░ир▒Зр░ир▒Б р░ор▒А р░ир░┐р░зр░┐р░╕р░╛р░Хр░┐ р░░р▒Бр░г р░╕р░╣р░╛р░пр░Хр▒Бр░бр░┐р░ир░┐. р░ир▒Зр░ир▒Б р░Ир░░р▒Лр░Ьр▒Б р░ор▒Ар░Хр▒Б р░Ор░▓р░╛ р░╕р░╣р░╛р░пр░В р░Ър▒Зр░пр░Чр░▓р░ир▒Б?",
        placeholder: "р░ор▒А р░╕р░Вр░жр▒Зр░╢р░╛р░ир▒Нр░ир░┐ р░Зр░Хр▒Нр░Хр░б р░Яр▒Ир░кр▒Н р░Ър▒Зр░пр░Вр░бр░┐...",
      },
      footer: {
        about: {
          title: "р░ир░┐р░зр░┐р░╕р░╛р░Хр░┐ р░Чр▒Бр░░р░┐р░Вр░Ър░┐",
          description: "р░ир░┐р░зр░┐р░╕р░╛р░Хр░┐ р░Ер░ир▒Нр░ир░┐ р░░р▒Бр░г-р░╕р░Вр░мр░Вр░зр░┐р░д р░ир░┐р░░р▒Нр░гр░пр░╛р░▓р░Хр▒Б р░ор▒А р░╡р░┐р░╢р▒Нр░╡р░╕р░ир▒Ар░п р░нр░╛р░Чр░╕р▒Нр░╡р░╛р░ор░┐, р░╡р▒Нр░пр░Хр▒Нр░др░┐р░Чр░др▒Ар░Хр░░р░┐р░Вр░Ър░┐р░и р░╕р░┐р░лр░╛р░░р▒Нр░╕р▒Бр░▓р▒Б р░ор░░р░┐р░пр▒Б р░Ер░░р▒Нр░╣р░д р░др░ир░┐р░Цр▒Ар░▓р░ир▒Б р░Ер░Вр░жр░┐р░╕р▒Нр░др▒Бр░Вр░жр░┐.",
        },
        links: {
          title: "р░др▒Нр░╡р░░р░┐р░д р░▓р░┐р░Вр░Хр▒НтАМр░▓р▒Б",
        },
        contact: {
          title: "р░ор░ор▒Нр░ор░▓р▒Нр░ир░┐ р░╕р░Вр░кр▒Нр░░р░жр░┐р░Вр░Ър░Вр░бр░┐",
          address: "123 р░лр▒Ир░ир░╛р░ир▒Нр░╕р▒Н р░╕р▒Нр░Яр▒Нр░░р▒Ар░Яр▒Н, р░ор▒Бр░Вр░мр▒И, р░нр░╛р░░р░др░жр▒Зр░╢р░В",
          phone: "+91 9876543210",
          email: "info@nidhisaki.com",
        },
        copyright: "┬й 2023 р░ир░┐р░зр░┐р░╕р░╛р░Хр░┐. р░Ер░ир▒Нр░ир░┐ р░╣р░Хр▒Нр░Хр▒Бр░▓р▒Б р░░р░┐р░Ьр░░р▒Нр░╡р▒Н р░Ър▒Зр░пр░мр░бр▒Нр░бр░╛р░пр░┐.",
      },
    },
  }

  // Function to change language
  function changeLanguage(lang) {
    const data = languageData[lang]

    // Update current language display
    document.getElementById("current-language").textContent = document.querySelector(
      `.language-dropdown li[data-lang="${lang}"]`,
    ).textContent

    // Update navigation
    const navItems = document.querySelectorAll("nav ul li a")
    navItems.forEach((item, index) => {
      if (index < data.nav.length) {
        item.textContent = data.nav[index]
      }
    })

    // Update hero section
    document.querySelector(".hero h1").textContent = data.hero.title
    document.querySelector(".hero p").textContent = data.hero.subtitle
    document.querySelector(".cta-button").textContent = data.hero.cta

    // Update features section
    document.querySelector(".features .section-title").textContent = data.features.title
    const featureItems = document.querySelectorAll(".feature-card")
    featureItems.forEach((item, index) => {
      if (index < data.features.items.length) {
        item.querySelector("h3").textContent = data.features.items[index].title
        item.querySelector("p").textContent = data.features.items[index].description
      }
    })

    // Update testimonials section
    document.querySelector(".testimonials .section-title").textContent = data.testimonials.title

    // Update chatbot
    document.querySelector(".chatbot-toggle span").textContent = data.chatbot.toggle
    document.querySelector(".chatbot-header h3").textContent = data.chatbot.header
    document.querySelector(".chatbot-messages .message.bot p").textContent = data.chatbot.welcome
    document.querySelector(".chatbot-input input").placeholder = data.chatbot.placeholder

    // Update footer
    const footerSections = document.querySelectorAll(".footer-section")
    footerSections[0].querySelector("h3").textContent = data.footer.about.title
    footerSections[0].querySelector("p").textContent = data.footer.about.description

    footerSections[1].querySelector("h3").textContent = data.footer.links.title
    const footerLinks = footerSections[1].querySelectorAll("ul li a")
    footerLinks.forEach((link, index) => {
      if (index < data.nav.length) {
        link.textContent = data.nav[index]
      }
    })

    footerSections[2].querySelector("h3").textContent = data.footer.contact.title
    const contactInfo = footerSections[2].querySelectorAll("p")
    contactInfo[0].innerHTML = `<i class="fas fa-map-marker-alt"></i> ${data.footer.contact.address}`
    contactInfo[1].innerHTML = `<i class="fas fa-phone"></i> ${data.footer.contact.phone}`
    contactInfo[2].innerHTML = `<i class="fas fa-envelope"></i> ${data.footer.contact.email}`

    document.querySelector(".footer-bottom p").textContent = data.footer.copyright
  }

  // Function to add a message to the chatbot
  function addMessage(message, isUser = false) {
    const messageDiv = document.createElement("div")
    messageDiv.classList.add("message")
    messageDiv.classList.add(isUser ? "user" : "bot")

    const messageP = document.createElement("p")
    messageP.textContent = message

    messageDiv.appendChild(messageP)
    chatMessages.appendChild(messageDiv)

    // Scroll to bottom
    chatMessages.scrollTop = chatMessages.scrollHeight
  }

  // Function to handle chatbot responses
  function handleChatbotResponse(message) {
    // Simple responses based on keywords
    const lowerMessage = message.toLowerCase()
    let response = "I'm sorry, I don't understand. Could you please rephrase your question?"

    if (lowerMessage.includes("hello") || lowerMessage.includes("hi") || lowerMessage.includes("hey")) {
      response = "Hello! How can I assist you with loans today?"
    } else if (lowerMessage.includes("loan type") || lowerMessage.includes("types of loan")) {
      response =
        "We offer various types of loans including Home Loans, Personal Loans, Business Loans, and Education Loans. Which one are you interested in?"
    } else if (lowerMessage.includes("home loan") || lowerMessage.includes("housing")) {
      response =
        "Our home loans offer competitive interest rates starting from 6.7% with loan tenure up to 30 years. Would you like to check your eligibility?"
    } else if (lowerMessage.includes("personal loan")) {
      response =
        "Personal loans are available from тВ╣50,000 to тВ╣25,00,000 with interest rates starting at 10.5%. No collateral required!"
    } else if (lowerMessage.includes("business loan")) {
      response =
        "Our business loans are designed to help your business grow. Loan amounts from тВ╣5,00,000 to тВ╣2 crore with flexible repayment options."
    } else if (lowerMessage.includes("education") || lowerMessage.includes("study")) {
      response =
        "Education loans cover tuition fees, living expenses, and study materials. Interest rates start at 7.5% with repayment beginning after course completion."
    } else if (lowerMessage.includes("eligibility") || lowerMessage.includes("qualify")) {
      response =
        "Eligibility depends on factors like income, credit score, and employment stability. Would you like to use our eligibility checker tool?"
    } else if (lowerMessage.includes("interest") || lowerMessage.includes("rate")) {
      response =
        "Our interest rates are competitive and vary based on loan type, amount, and your credit profile. Home loans start at 6.7%, personal loans at 10.5%, and business loans at 11%."
    } else if (lowerMessage.includes("document") || lowerMessage.includes("documents needed")) {
      response =
        "Required documents typically include ID proof, address proof, income proof, and bank statements. Specific requirements vary by loan type."
    } else if (lowerMessage.includes("thank")) {
      response = "You're welcome! Feel free to ask if you have any other questions about our loan services."
    } else if (lowerMessage.includes("bye") || lowerMessage.includes("goodbye")) {
      response = "Thank you for chatting with us! Have a great day!"
    }

    // Add bot response after a short delay
    setTimeout(() => {
      addMessage(response)
    }, 500)
  }

  // Animate features on scroll
  const animateFeatures = () => {
    const featureCards = document.querySelectorAll(".feature-card")

    featureCards.forEach((card, index) => {
      const cardTop = card.getBoundingClientRect().top
      const windowHeight = window.innerHeight

      if (cardTop < windowHeight - 100) {
        setTimeout(() => {
          card.classList.add("visible")
        }, index * 150)
      }
    })
  }

  // Initial check for features in viewport
  animateFeatures()

  // Check on scroll
  window.addEventListener("scroll", animateFeatures)

  // Add parallax effect to hero section
  const heroSection = document.querySelector(".hero")
  const heroContent = document.querySelector(".hero-content")
  const heroImage = document.querySelector(".hero-image")

  window.addEventListener("scroll", () => {
    const scrollPosition = window.scrollY

    if (scrollPosition < window.innerHeight) {
      heroContent.style.transform = `translateY(${scrollPosition * 0.2}px)`
      if (heroImage) {
        heroImage.style.transform = `translateY(${scrollPosition * 0.1}px)`
      }
    }
  })

  // Add animation to testimonial slider
  const animateTestimonialTransition = (index) => {
    testimonials.forEach((testimonial) => {
      testimonial.style.transition = "opacity 0.5s ease, transform 0.5s ease"
      testimonial.classList.remove("active")
    })

    testimonials[index].classList.add("active")

    // Update dots
    dots.forEach((dot) => {
      dot.classList.remove("active")
    })
    dots[index].classList.add("active")

    // Update current index
    currentTestimonial = index
  }

  // Replace the showTestimonial function with this enhanced version
  function showTestimonial(index) {
    animateTestimonialTransition(index)
  }

  // Event Listeners

  // Scroll event for header
  window.addEventListener("scroll", () => {
    if (window.scrollY > 50) {
      header.classList.add("scrolled")
    } else {
      header.classList.remove("scrolled")
    }
  })

  // Menu toggle
  menuToggle.addEventListener("click", () => {
    nav.classList.toggle("active")
  })

  // Close menu when clicking outside
  document.addEventListener("click", (e) => {
    if (!nav.contains(e.target) && !menuToggle.contains(e.target)) {
      nav.classList.remove("active")
    }

    if (!languageSelector.contains(e.target)) {
      languageSelector.classList.remove("active")
    }
  })

  // Language selector toggle
  selectedLanguage.addEventListener("click", (e) => {
    e.stopPropagation()
    languageSelector.classList.toggle("active")
  })

  // Language selection
  document.querySelectorAll(".language-dropdown li").forEach((item) => {
    item.addEventListener("click", () => {
      const lang = item.getAttribute("data-lang")

      // Update active class
      document.querySelectorAll(".language-dropdown li").forEach((li) => {
        li.classList.remove("active")
      })
      item.classList.add("active")

      // Change language
      changeLanguage(lang)

      // Close dropdown
      languageSelector.classList.remove("active")
    })
  })

  // Testimonial navigation
  prevBtn.addEventListener("click", () => {
    let index = currentTestimonial - 1
    if (index < 0) index = testimonials.length - 1
    showTestimonial(index)
  })

  nextBtn.addEventListener("click", () => {
    let index = currentTestimonial + 1
    if (index >= testimonials.length) index = 0
    showTestimonial(index)
  })

  // Testimonial dots
  dots.forEach((dot, index) => {
    dot.addEventListener("click", () => {
      showTestimonial(index)
    })
  })

  // Auto-rotate testimonials
  setInterval(() => {
    let index = currentTestimonial + 1
    if (index >= testimonials.length) index = 0
    showTestimonial(index)
  }, 5000)

  // Chatbot toggle
  chatbotToggle.addEventListener("click", () => {
    chatbotContainer.classList.toggle("active")
  })

  // Close chat
  closeChat.addEventListener("click", () => {
    chatbotContainer.classList.remove("active")
  })

  // Send message
  function sendMessage() {
    const message = chatInput.value.trim()
    if (message) {
      addMessage(message, true)
      chatInput.value = ""
      handleChatbotResponse(message)
    }
  }

  chatSendBtn.addEventListener("click", sendMessage)

  chatInput.addEventListener("keypress", (e) => {
    if (e.key === "Enter") {
      e.preventDefault()
      sendMessage()
    }
  })
})
